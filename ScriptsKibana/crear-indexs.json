// ===============================================
// SCRIPT DE CREACIÓ D'ÍNDEXS - POKEBUILDER
// ===============================================

// 1. ESBORREM ELS ÍNDEXS ANTICS (SI EXISTEIXEN)
// "ignore_unavailable=true" evita errors si és la primera vegada que s'executa
DELETE /pokemon?ignore_unavailable=true
DELETE /moves?ignore_unavailable=true
DELETE /teams?ignore_unavailable=true

// 2. CREEM L'ÍNDEX `pokemon`
PUT /pokemon
{
"mappings": {
"properties": {
"pokedex_id": { "type": "integer" },
"name": {
"type": "text",
"fields": {
"keyword": { "type": "keyword" }
}
},
"types": { "type": "keyword" },
"stats": {
"properties": {
"hp": { "type": "integer" },
"attack": { "type": "integer" },
"defense": { "type": "integer" },
"special_attack": { "type": "integer" },
"special_defense": { "type": "integer" },
"speed": { "type": "integer" }
}
},
"abilities": {
"type": "nested",
"properties": {
"name": { "type": "keyword" },
"is_hidden": { "type": "boolean" }
}
},
"moves_pool": {
"type": "nested",
"properties": {
"name": { "type": "keyword" },
"learn_method": { "type": "keyword" }
}
}
}
}
}

// 3. CREEM L'ÍNDEX `moves`
PUT /moves
{
"mappings": {
"properties": {
"move_id": { "type": "keyword" },
"name": {
"type": "text",
"fields": {
"keyword": { "type": "keyword" }
}
},
"type": { "type": "keyword" },
"category": { "type": "keyword" },
"power": { "type": "integer" },
"accuracy": { "type": "integer" },
"pp": { "type": "integer" },
"description": { "type": "text" }
}
}
}

// 4. CREEM L'ÍNDEX `teams`
PUT /teams
{
"mappings": {
"properties": {
"team_name": {
"type": "text",
"fields": {
"keyword": { "type": "keyword" }
}
},
"description": { "type": "text" },
"user_id": { "type": "keyword" },
"format": { "type": "keyword" },
"team_members": {
"type": "nested",
"properties": {
"base_pokemon": { "type": "keyword" },
"nickname": { "type": "text" },
"item": { "type": "keyword" },
"ability": { "type": "keyword" },
"tera_type": { "type": "keyword" },
"nature": { "type": "keyword" },
"moves": { "type": "keyword" },
"evs": {
"properties": {
"hp": { "type": "short" },
"attack": { "type": "short" },
"defense": { "type": "short" },
"sp_atk": { "type": "short" },
"sp_def": { "type": "short" },
"speed": { "type": "short" }
}
}
}
}
}
}
}